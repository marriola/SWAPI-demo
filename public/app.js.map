{"version":3,"sources":["app/ajax.js","app/controllers/columns.js","app/controllers/controller.js","app/controllers/resources.js","app/controllers/table-base.js","app/controllers/table-popup.js","app/controllers/table.js","app/initialize.js","app/link-resolver.js","app/link-store.js","app/local-storage.js","app/sw-demo.js","app/utils.js"],"names":[],"mappings":"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","file":"public\\app.js","sourcesContent":["export class Ajax {\n    constructor(base, errorCallback=null) {\n\tthis.lastUrl = null;\n\tif (base !== null && !base.endsWith(\"/\"))\n\t    base += \"/\";\n\tthis.base = base;\n\tthis.errorCallback = errorCallback || this.ajaxError;\n    }\n\n    call(url, raw=false, type=\"GET\", errorCallback=null) {\n\tthis.lastUrl = this.base + url;\n\t\n\treturn new Promise((resolve, reject) => {\n\t    $.ajax({\n\t\ttype,\n\t\turl: raw || !this.base ? url : this.base + url,\n\t\tsuccess: resolve,\n\t\terror: (jqXHR, status, error) => {\n\t\t    let errorCallbacks = [\n\t\t\terrorCallback,\n\t\t\tthis.errorCallback,\n\t\t\tthis.ajaxError\n\t\t    ];\n\n\t\t    for (let cb of errorCallbacks) {\n\t\t\tif (cb && !cb.bind(this)(jqXHR, status, error)) {\n\t\t\t    break;\n\t\t\t}\n\t\t    }\n\n\t\t    reject(jqXHR, status, error);\n\t\t}\n\t    });\n\t});\n    }\n\n    ajaxError(jqXHR, status, error) {\n\talert(`Ajax error retrieving ${this.lastUrl}. See window._ajaxError for more detail`);\n\t\n\twindow._ajaxError = { jqXHR, status, error };\n    }\n}\n","import { Controller } from \"controllers/controller.js\";\nimport { LocalStorage } from \"local-storage.js\";\nimport { Ajax } from \"ajax.js\";\nimport { mapName, reorder } from \"utils.js\";\n\nexport class ColumnsController extends Controller {\n    constructor(base) {\n\tsuper(base);\n\n\tthis.retrievedResources = 0;\n\tthis.dragging = null;\n\tthis.columnOrder = [];\n\n\tthis.setupEventHandlers();\n    }\n\n    \n    setupEventHandlers() {\t\n\t$(\"#columnFilterExpand\").on(\"click\", e => {\n\t    let open = $(\"#expandIndicator\").hasClass(\"open\");\n\t    \n\t    if (open) {\n\t\t$(\"#expandIndicator\").removeClass(\"open\").addClass(\"closed\");\n\t\t$(\"#columns\").toggle(500);\n\t    } else {\n\t\t$(\"#expandIndicator\").removeClass(\"closed\").addClass(\"open\");\n\t\t$(\"#columns\").toggle(500);\n\t    }\n\t});\t\n    }\n\n    \n    /**\n     * Retrieves the list of columns for each resource and generates the column filter\n     */\n    load(resources, after) {\n\tfor (let resource of resources) {\n\t    // Initiate call\n\t    this.ajax.call(`${resource.name}/schema`)\n\t\t.then((resource => { return response => {\n\t\t    // Decorate columns list with these properties:\n\t\t    //\n\t\t    // displayName    A user-friendly version of the column name\n\t\t    // index          The column's index in the list\n\t\t    // show           True if this column is currently visible\n\t\t    // hasUrl         True if this column contains URLs\n\t\t    resource.columns = Object.keys(response.properties).map((x, i) => {\n\t\t\tlet out = mapName(x);\n\t\t\tout.show = true;\n\t\t\tout.hasUrl = response.properties[x].description.toLowerCase().contains(\"url\");\n\t\t\treturn out;\n\t\t    });\n\n\t\t    // Retrieve column order from local storage and reorder if found\n\t\t    let defaultOrder = resource.columns.map(x => x.name);\n\t\t    let newOrder = LocalStorage.load(\"order.\" + resource.name);\n\t\t    if (newOrder) {\n\t\t\tresource.columns = reorder(resource.columns, defaultOrder, newOrder);\n\t\t\tthis.columnOrder = newOrder;\n\t\t    } else {\n\t\t\tthis.columnOrder = defaultOrder;\n\t\t    }\n\t\t    \n\t\t    // If we've done the last resource, fill and display the column filter view\n\t\t    if (++this.retrievedResources == resources.length) {\n\t\t\tthis.viewmodel = new Vue({\n\t\t\t    el: \"#columns\",\n\t\t\t    data: { resources },\n\t\t\t    methods: {\n\t\t\t\tshowColumns: this.showColumns\n\t\t\t    }\n\t\t\t});\n\t\t\t\n\t\t\t$(\"#please-wait\").fadeOut(250, function() {\n    \t\t\t    this.setupDragAndDropEvents();\n\t\t\t    $(\"#controls\").slideDown(250);\n\t\t\t}.bind(this));\n\t\t\t\n\t\t\t$(\"#btnGet\").prop(\"disabled\", false);\n\t\t    }\n\t\t} })(resource));\n\t}\n\n\tif (after)\n\t    after();\n    }\n\n\n    /**\n     * Displays the columns page for the currently selected resource in the column filter\n     */\n    showColumns(resource) {\n\t$(\".columnName\").removeClass(\"selected\");\n\t$(`.columnName[data-index='${resource.index}']`).addClass(\"selected\");\n\t\n\tif ($(\".columnPage:visible\").length == 0) {\n\t    $(`.columnPage[data-index='${resource.index}']`).slideDown(250);\n\t} else {\n\t    $(\".columnPage:visible\").fadeOut(250, function() {\n\t\t$(`.columnPage[data-index='${resource.index}']`).fadeIn(250);\n\t    });\n\t}\t\t\t\t\n    }\n\n\n    setupDragAndDropEvents() {\n\t$(\".columnContainer label\").on(\"dragstart\", e => {\n\t    this.columnOrder = this.getColumnOrder();\n\n\t    this.dragging = e.originalEvent.target;\n\t    this.dragging.classList.add(\"dragging\");\n\t    e.originalEvent.dataTransfer.setDragImage(document.createElement(\"img\"), 0, 0);\n\t});\n\t\n\t$(\".columnContainer\").on(\"dragover\", e => {\n\t    // Search up the DOM from our target for a <label> element whose parent has class columnContainer\n\t    \n\t    let target = e.originalEvent.target;\n\t    let parent = target.parentElement;\n\t    while (parent && !target.tagName === \"LABEL\") {\n\t\ttarget = parent;\n\t\tparent = target.parentElement;\n\t    }\n\n\t    if (parent.classList.contains(\"columnContainer\")) {\n\t\te.preventDefault();\n\n\t\tlet halfHeight = target.clientHeight / 2;\n\t\tlet above = e.offsetY < halfHeight;\n\t\tparent.insertBefore(this.dragging, above ? target : target.nextSibling);\n\t    }\n\t});\n\n\t$(\".columnContainer label\").on(\"drop\", e => {\n\t    \n\t});\n\n\t$(\".columnContainer label\").on(\"dragend\", e => {\n\t    this.dragging.classList.remove(\"dragging\");\n\t    this.dragging = null;\n\n\t    let resource = this.getSelectedResource();\n\t    let oldOrder = this.columnOrder;\n\t    this.columnOrder = this.getColumnOrder();\n\t    resource.columns = reorder(resource.columns, oldOrder, this.columnOrder);\n\t    LocalStorage.save(\"order.\" + resource.name, this.columnOrder);\n\t});\n    }\n\n\n    getColumnOrder() {\n\tlet $page = this.getSelectedPage();\n\treturn Array.from($page.find(\"input\")).map((elt, idx) => elt.getAttribute(\"name\"));\n    }\n    \n\n    getPageNumber() {\n\treturn parseInt($(\"#columnFilter .columnName.selected\").attr(\"data-index\"));\n    }\n\n\n    getSelectedPage() {\n\tlet page = this.getPageNumber();\n\n\treturn $(`#columnFilter .columnPage[data-index='${page}']`);\n    }\n    \n\n    getSelectedResource() {\n\tlet page = this.getPageNumber();\n\t\n\treturn $VueDemo.default.resources.model.store[page];\n    }    \n}\n","import { Ajax } from \"ajax.js\";\n\nexport class Controller {\n    constructor(base) {\n\tthis.SWAPI_BASE = base;\n\n    \tthis.ajax = new Ajax(this.SWAPI_BASE);\n    }\n}\n","import { Controller } from \"controllers/controller.js\";\nimport { mapName } from \"utils.js\";\nimport { Ajax } from \"ajax.js\";\n\nexport class ResourcesController extends Controller {\n    constructor(base) {\n\tsuper(base);\n\t\n\tthis.model = {\n\t    selected: \"0\"\n\t};\n    }\n\n    /**\n     * Retrieves the list of available resources from the API, then gets columns for each when done\n     */\n    load(after) {\n\tthis.ajax.call(\"\")\n\t    .then(response => {\n\t\t// Decorate resources list with these properties:\n\t\t//\n\t\t// displayName    A user-friendly version of the column name\n\t\t// index          The column's index in the list\n\t\t// columns        A list of this resource's columns\n\t\t// selected       True if this resource is selected for searching\n\t\tthis.model.store = Object.keys(response).map((x, i) => {\n\t\t    let out = mapName(x, i);\n\t\t    out.columns = [];\n\t\t    out.selected = false;\n\t\t    return out;\n\t\t});\n\n\t\tthis.viewModel = new Vue({\n\t\t    el: \"#resources\",\n\t\t    data: this.model,\n\t\t    methods: {\n\t\t\tselectResource: this.selectResource\n\t\t    }\n\t\t});\n\t\t\n\t\tif (after)\n\t\t    after();\n\t    });\n    }\n\n    \n    /**\n     * Returns the resource currently selected by the select#resources element\n     */\n    getSelected() {\n\treturn this.model.store[this.model.selected];\n    }\n\n    \n    /**\n     * Resets search results when selecting a different resource.\n     */\n    selectResource (i) {\n\t$(\"#table\").remove();\n\t$(\"#btnPrev, #btnNext\").prop(\"disabled\", true);\n\t$VueDemo.default.table.page = 1;\n    }\n}\n","import { Controller } from \"controllers/controller.js\";\n\nexport class TableBaseController extends Controller {\n    constructor(base, resources, linkStore, linkResolver) {\n\tsuper(base);\n\tthis.resources = resources;\n\tthis.linkStore = linkStore;\n\tthis.linkResolver = linkResolver;\n\tthis.baseMethods = {\n\t    clickLink: this.clickLink,\n\t    isArray: this.isArray,\n\t    sanitize: this.sanitize\n\t};\n    }\n\n    /**\n     * Loads an entity into the entity popup\n     *\n     * @param column\t\tThe column containing the link\n     * @param url\t\t\tThe URL of the link\n     * @param event\t\t\tThe click event on the link\n     */\n    clickLink (column, url, event) {\n\tevent.preventDefault();\n\tevent.target.classList.add(\"waiting\");\n\t$VueDemo.default.tablePopup.load(url, () => {\n\t    event.target.classList.remove(\"waiting\");\n\t});\n    }\n    \n    isArray(x) {\n\treturn Array.isArray(x);\n    }\n\n    sanitize(x) {\n\treturn x || \"[none]\";\n    }\n}\n","import { TableBaseController } from \"controllers/table-base.js\"\nimport { clone } from \"utils.js\"\n\nexport class TablePopupController extends TableBaseController {\n    constructor(base, resources, linkStore, linkResolver) {\n\tsuper(base, resources, linkStore, linkResolver);\n\n\tthis.setupEventHandlers();\n    }\n\n\n    setupEventHandlers() {\n\t$(\"#overlay, #btnClose\").on(\"click\", this.hideOverlay);\n\n    \t$(document).on(\"keyup\", e => {\n\t    if ((e.which || e.keyCode) == 27) {\n\t\tthis.hideOverlay();\n\t    }\n\t});\n    }\n\n    \n    showOverlay() {\n\t$(\"#table-popup, #overlay\").fadeIn();\n\t$(\"body\").css(\"overflow\", \"hidden\");\n    }\n\n\n    hideOverlay() {\n\t$(\"#table-popup, #overlay\").fadeOut();\n\t$(\"body\").css(\"overflow\", \"auto\");\n    }\n\n    \n    /**\n     * Retrieves entity data then populates and displays the div#table-popup element\n     */\n    load(url, callback) {\n\tlet resourceName;\n\tlet match = url.match(/http:\\/\\/swapi.co\\/api\\/(\\w+).*/);\n\tif (!match) {\n\t    return;\n\t} else {\n\t    resourceName = match[1];\n\t}\n\t\n\tlet resource = this.resources.model.store.find(x => x.name == resourceName);\n\tif (!resource)\n\t    return;\n\t\n\tlet columns = resource.columns;\n\n\tthis.ajax.call(url, true)\n\t    .then(result => {\n\t\t$(\"#rest\").append(clone($(\"#table-popup-template\"), true));\n\t\t\n\t\tthis.viewmodel = new Vue({\n\t\t    el: \"#table-popup\",\n\t\t    data: {\n\t\t\tcolumns,\n\t\t\tresult,\n\t\t\tlinkStore: this.linkStore.store\n\t\t    },\n\t\t    methods: this.baseMethods\n\t\t});\n\n\t\tthis.linkResolver.resolve(\"#table-popup\");\n\t\tthis.showOverlay();\n\t\tif (callback)\n\t\t    callback();\n\t    });\n    }\n}\n","import { TableBaseController } from \"controllers/table-base.js\";\nimport { clone, mapName } from \"utils.js\";\nimport { Ajax } from \"ajax.js\";\n\nexport class TableController extends TableBaseController {\n    constructor(base, resources, linkStore, linkResolver) {\n\tsuper(base, resources, linkStore, linkResolver);\n\n\tthis.page = 1;\n\n\tthis.setupEventHandlers();\n    }\n\n\n    setupEventHandlers() {\n\t$(\"#btnPrev\").on(\"click\", e => {\n\t    this.load(--this.page);\n\t});\n\n\t\n\t$(\"#btnGet\").on(\"click\", e => {\n\t    this.load(this.page)\n\t});\n\n\t\n\t$(\"#btnNext\").on(\"click\", e => {\n\t    this.load(++this.page)\n\t});\n    }\n\n    \n    /**\n     * Loads and renders a page of entities\n     *\n     * @param page {number}\t\tThe page number to load\n     */\n    load(page=\"\", after) {\n\tlet resource = this.resources.getSelected();\n\tlet url = this.SWAPI_BASE + resource.name + \"/?page=\" + page;\n\t$(\"#spinner\").show();\n\n\tthis.ajax.call(`${resource.name}/?page=${page}`)\n\t    .then(response => {\t\t\n\t\tclone($(\"#table-template\"), true)\n\t\t    .first()\n\t\t    .attr(\"id\", \"table\")\n\t\t    .appendTo($(\"#rest\"));\n\t\t\n\t\tthis.viewmodel = new Vue({\n\t\t    el: '#table',\n\t\t    data: {\n\t\t\tpageStart: (this.page - 1) * 10 + 1,\n\t\t\tpageEnd: (this.page - 1) * 10 + response.results.length,\n\t\t\tcount: response.count,\n\t\t\tresource: resource,\n\t\t\tresults: response.results,\n\t\t\tlinkStore: this.linkStore.store\n\t\t    },\n\t\t    methods: $.extend({}, this.baseMethods, { showOnMobile: this.showOnMobile })\n\t\t});\n\t\t\n\t\t$(\"#btnPrev\").prop(\"disabled\", !response.previous);\n\t\t$(\"#btnNext\").prop(\"disabled\", !response.next);\n\t\t$(\"#spinner\").hide();\n\t\t$(\"html, body\").animate({ scrollTop: 0 });\n\t\t$(\"#table\").show();\n\n\t    \tthis.linkResolver.resolve(\"#table\");\n\t    });\n    }\n\n    showOnMobile(name) {\n\treturn name == \"url\";\n    }\n}\n","document.addEventListener('DOMContentLoaded', () => {\n  // do your setup here\n  console.log('Initialized app');\n});\n","import { Ajax } from \"ajax.js\";\n\nexport class LinkResolver {\n    constructor(linkStore) {\n\tthis.linkStore = linkStore;\n\tthis.waiting = {}\n\tthis.ajax = new Ajax(null);\n    }\n\n    /**\n     * Retrieves the name of the item pointed to by each link with the not-set class, and sets its text.\n     *\n     * @param {string} selector\t\tOptional. A selector for the element to search for links. If null, defauls to the entire document.\n     */\n    resolve(selector=null) {\n\tif (!$VueDemo.default.RESOLVE_LINKS)\n\t    return;\n\t\n\tlet $links = $(\".not-set\");\n\tlet count = $links.length;\n\t\n\tconsole.log(`Resolving ${count} links...`);\n\t\n\t$links.each((idx, elt) => {\n\t    let url = elt.getAttribute(\"href\");\n\t    \n\t    if (this.waiting[url]) {\n\t\t--count;\n\t\treturn;\n\t    } else if (this.linkStore.get(url)) {\n\t\t$(`[href='${url}']`)\n\t\t    .text(this.linkStore.get(url))\n\t\t    .removeClass(\"not-set\");\n\t\t--count;\n\t\treturn;\n\t    }\n\t    \n\t    this.waiting[url] = true;\n\t    \n\t    this.ajax.call(url)\n\t\t.then(response => {\n\t\t    let name = response.name || response.title;\n\t\t    let $links = $(`[href='${url}']`);\n\n\t\t    console.log(`resolving ${$links.length} links with ${url} -> ${name}`);\n\t\t    $links\n\t\t\t.text(name)\n\t\t\t.removeClass(\"not-set\");\n\t\t    this.linkStore.add(url, name);\n\t\t    this.waiting[url] = false;\n\t\t    \n\t\t    if (--count == 0) {\n\t\t\tthis.linkStore.save();\n\t\t\tconsole.log(\"Done.\");\n\t\t    }\n\t\t});\n\t});\n    }\n}\n","import { LocalStorage } from \"local-storage.js\";\n\nexport class LinkStore {\n    constructor() {\n\tthis.store = this.load();\n    }\n\n    add(url, name) {\n\tthis.store[url] = name;\n    }\n\n    get(url) {\n\treturn this.store[url] || \"\";\n    }\n    \n    load() {\n\treturn LocalStorage.load(\"linkStore\");\n    }\n\n    save() {\n\tLocalStorage.save(\"linkStore\", this.store);\n    }\n\n    clear() {\n\tthis.store = {};\n\tthis.save();\n    }\n}\n","export class LocalStorage {\n    static load(key) {\n\tlet retrieved;\n\n\tif (localStorage) {\n\t    retrieved = localStorage[key];\n\t} else {\n\t    let m = document.cookie.match(`${key}=(.*?);`);\n\t    retrieved = m && m[1] || null;\n\t}\n\n\treturn retrieved && JSON.parse(retrieved) || null;\n    }\n\n    static save(key, value) {\n\tlet json = JSON.stringify(value);\n\t\n\tif (localStorage) {\n\t    localStorage[key] = json;\n\t} else {\n\t    document.cookie = `${key}=${json};`;\n\t}\n    }\n}\n","import { LinkStore } from \"link-store.js\"\r\nimport { LinkResolver } from \"link-resolver.js\"\r\nimport { ResourcesController } from \"controllers/resources.js\"\r\nimport { ColumnsController } from \"controllers/columns.js\"\r\nimport { TableController } from \"controllers/table.js\"\r\nimport { TablePopupController } from \"controllers/table-popup.js\"\r\n\r\n\r\n//Vue.config.debug = true;\r\nclass VueDemo {\r\n    constructor() {\r\n\tthis.RESOLVE_LINKS = true;\r\n\tthis.SWAPI_BASE = \"http://swapi.co/api/\";\r\n\r\n\tthis.linkStore = new LinkStore();\r\n\tthis.linkResolver = new LinkResolver(this.linkStore);\r\n\r\n\tthis.resources = new ResourcesController(this.SWAPI_BASE);\r\n\tthis.columns = new ColumnsController(this.SWAPI_BASE);\r\n\tthis.table = new TableController(this.SWAPI_BASE, this.resources, this.linkStore, this.linkResolver);\r\n\tthis.tablePopup = new TablePopupController(this.SWAPI_BASE, this.resources, this.linkStore, this.linkResolver);\r\n\r\n\t$(\"#btnClear\").on(\"click\", e => {\r\n\t    this.linkStore.clear();\r\n\t    alert(\"Done!\");\r\n\t});\r\n\t\r\n\tthis.resources.load(() => {\r\n\t    this.columns.load(this.resources.model.store);\r\n\t});\r\n    }    \r\n}\r\n\r\nexport default new VueDemo()\r\n","Array.from = Array.from || function(o) {\n    let out = [];\n    for (let i = 0; i < o.length; i++) {\n\tout.push(o[i]);\n    }\n    return out;\n}\n\nString.prototype.endsWith = String.prototype.endsWith || function(ch) {\n    return this[this.length - 1] === ch;\n}\n\nString.prototype.contains = String.prototype.contains || function(needle) {\n    return this.indexOf(needle) != -1;\n}\n\n\n/**\n * Converts words separated by underscores to title case\n */\nexport function titleCase(str) {\n    return str.split(\"_\")\n\t.map((x, i) => x[0].toUpperCase() + x.substr(1))\n\t.join(\" \");\n}\n\n\n/**\n * Maps a name onto an object containing the original name, the title-cased name, and its index\n *\n * @param name {String}\t\tThe name of the item\n * @param index {Number}\tThe index of the item in its list (of resources or columns)\n *\n * @returns {Object}\n */\nexport function mapName(name, index) {\n    return {\n\tname: name,\n\tdisplayName: titleCase(name),\n\tindex\n    };\n}\n\n\n/**\n * Returns a clone of a template element. If the element's ID ends in \"-template\", that portion is removed from the cloned element.\n *\n * @param $elt {JQuery}\t\t\tThe element to clone\n * @param replace {Boolean}\t\tTrue if the last cloned element with this ID should be removed\n */\nexport function clone($elt, replace=false) {\n    let id = $elt.attr(\"id\").replace(\"-template\", \"\");\n    if (replace)\n\t$(\"#\" + id).remove();\n    return $elt.clone().first().attr(\"id\", id);\n}\n\nexport function reorder(columns, oldOrder, newOrder) {\n    let indices = [];\n    for (let col of newOrder) {\n\tindices.push(oldOrder.indexOf(col));\n    }\n\n    let out = [];\n    for (let i of indices) {\n\tout.push(columns[i]);\n    }\n\n    return out;\n}\n\n"]}